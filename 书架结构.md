## ✅ 推荐结构调整（模块化）

### 1.  `BookSlot`（每一面，每一层，具体放书位置）

```sql
CREATE TABLE BookShelfSlot (
    SlotId INT IDENTITY(1,1) PRIMARY KEY,          -- 主键
    Floor INT NOT NULL,                            -- 楼层（1~3）
    RowNumber INT NOT NULL,                        -- 排
    ColumnNumber INT NOT NULL,                     -- 列
    Face CHAR(1) NOT NULL CHECK (Face IN ('A','B')), -- A面或B面
    Level INT NOT NULL CHECK (Level BETWEEN 1 AND 9), -- 第几层格子
    SlotCode VARCHAR(30) UNIQUE NOT NULL,          -- 书架格子编号，如 F01-R2-C3-A-05
    Location NVARCHAR(100)                         -- 可读位置描述，例如"二楼右侧第3列"
);
```

### 2. `Book` 调整：精确到 Slot（具体格子）

```sql
CREATE TABLE Book (
    BookId INT IDENTITY(1,1) PRIMARY KEY,                   -- 图书ID，主键
    BookName NVARCHAR(100) NOT NULL,                        -- 图书名称
    Author NVARCHAR(100),                                   -- 作者
    ISBN VARCHAR(20) UNIQUE,                                -- 国际标准书号
    Price DECIMAL(10,2),                                    -- 单价
    Inventory INT NOT NULL DEFAULT 0,                       -- 当前库存数量
    Picture NVARCHAR(255),                                  -- 图书封面图片路径
    SlotId INT,                                             -- 外键，所在具体格子
    CONSTRAINT FK_Book_Slot FOREIGN KEY (SlotId)
        REFERENCES BookSlot(SlotId)                         -- 外键约束：关联BookSlot
);
```

---

## ✅ 编码与识别规范推荐

一个书架共6层

| 字段     | 示例值         | 含义                                           |
| -------- | -------------- | ---------------------------------------------- |
| SlotCode | F01-R2-C3-A-06 | 第 1 层楼，第 2 排第 3 列书架 A 面第 6 层格子 |

---

## ✅ 图书定位示意图结构

```
┌────────────┬────────────┐
│ A面格子6   │ B面格子6   │ ← BookSlot：Level=6, Face=A/B
│ A面格子5   │ B面格子5   │
│ ...        │ ...        │
│ A面格子1   │ B面格子1   │
└────────────┴────────────┘
         ↑ 中心隔板
```
